'use strict';var $=function(a){return 1<document.querySelectorAll(a).length?document.querySelectorAll(a):document.querySelector(a)};Element.prototype.on=Element.prototype.addEventListener,$('#slike').style.marginLeft=0;var slike=[],pomak=200,isAndroid=/(android)/i.test(navigator.userAgent),brojSlika=1200<window.innerWidth?30:600<window.innerWidth?20:10,brojacSlika=0,ucitaneSlike=!1,stilMape=[{featureType:'landscape.man_made',elementType:'geometry',stylers:[{color:'#f7f1df'}]},{featureType:'landscape.natural',elementType:'geometry',stylers:[{color:'#d0e3b4'}]},{featureType:'landscape.natural.terrain',elementType:'geometry',stylers:[{visibility:'off'}]},{featureType:'poi',elementType:'labels',stylers:[{visibility:'off'}]},{featureType:'poi.business',elementType:'all',stylers:[{visibility:'off'}]},{featureType:'poi.medical',elementType:'geometry',stylers:[{color:'#fbd3da'}]},{featureType:'poi.park',elementType:'geometry',stylers:[{color:'#bde6ab'}]},{featureType:'road',elementType:'geometry.stroke',stylers:[{visibility:'off'}]},{featureType:'road',elementType:'labels',stylers:[{visibility:'off'}]},{featureType:'road.highway',elementType:'geometry.fill',stylers:[{color:'#ffe15f'}]},{featureType:'road.highway',elementType:'geometry.stroke',stylers:[{color:'#efd151'}]},{featureType:'road.arterial',elementType:'geometry.fill',stylers:[{color:'#ffffff'}]},{featureType:'road.local',elementType:'geometry.fill',stylers:[{color:'black'}]},{featureType:'transit.station.airport',elementType:'geometry.fill',stylers:[{color:'#cfb2db'}]},{featureType:'water',elementType:'geometry',stylers:[{color:'#a2daf2'}]}];function praviMapu(){return new google.maps.Map(document.getElementById('map-canvas'),{center:{lat:44.341667,lng:17.269444},zoom:8,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},streetViewControl:!1,styles:stilMape})}function praviProzor(a,b){var c='\n    <h3>'+a.mesto+'</h3>\n    </p>'+(a.naziv||'')+'</p>\n    <a href="'+b+'">Find place</a>\n  ';return a.info&&(c+='<a href="'+a.info+'" target="_blank">Read more</a>'),new google.maps.InfoWindow({content:c})}function praviMarker(a,b,c){return new google.maps.Marker({map:a,infoWindow:b,position:new google.maps.LatLng(c.koordinate.lat,c.koordinate.lng),title:c.naziv||c.mesto,icon:'slike/obelisk.png'})}function praviUrl(a){var b='https://www.google.com/maps/place/?q=place_id:'+a.place_id,c='https://www.google.com/maps/place/'+a.koordinate.lat+','+a.koordinate.lng,d='geo:'+a.koordinate.lat+','+a.koordinate.lng,e=a.place_id?b:c,f=isAndroid?d:e;return f}function otvori(a,b,c,d){a.open(b,c);!d.slika||a.dodataSlika||(a.setContent(a.getContent()+('<p><img src="'+d.slika+'"></p>')),a.dodataSlika=!0)}function nadjiMe(a){navigator.geolocation.getCurrentPosition(function(b){a.setCenter(new google.maps.LatLng(b.coords.latitude,b.coords.longitude))})}function initialize(a){var b=praviMapu();a.map(function(c){var d=praviUrl(c),e=praviProzor(c,d),f=praviMarker(b,e,c);if(f.addListener('click',function(){return otvori(e,b,f,c)}),!!c.slika){var g=document.createElement('img');g.addEventListener('click',function(){otvori(e,b,f,c),b.panTo(f.getPosition())}),slike.push(g),$('#slike').appendChild(g),g.izvor=c.slika,brojacSlika>brojSlika||(g.src=c.slika,brojacSlika++)}}),$('#lokator').on('click',function(){return nadjiMe(b)})}fetch('spomenici.json').then(function(a){return a.json()}).then(function(a){return initialize(a)}),$('#strelica-leva').on('click',function(){0<parseInt($('#slike').style.marginLeft)+pomak||($('#slike').style.marginLeft=parseInt($('#slike').style.marginLeft)+pomak+'px')}),$('#strelica-desna').on('click',function(){ucitaneSlike||slike.map(function(a){return a.src=a.izvor}),$('#slike').style.marginLeft=parseInt($('#slike').style.marginLeft)-pomak+'px',ucitaneSlike=!0});
